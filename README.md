# üöÄ Bybit Trading Engine

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ç—Ä–µ–π–¥–∏–Ω–≥–æ–≤–∏–π –¥–≤–∏–∂–æ–∫ –¥–ª—è Bybit –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é DCA —Ç–∞ TP —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π.

## üìã –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Bybit Demo/Testnet
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ–∑–∏—Ü—ñ–π
- ‚úÖ DCA (Dollar Cost Averaging) –æ—Ä–¥–µ—Ä–∏
- ‚úÖ TP (Take Profit) –æ—Ä–¥–µ—Ä–∏ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ—Ä–∞—Ö—É–Ω–∫–æ–º
- ‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∑–∏—Ü—ñ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- ‚úÖ Graceful shutdown (–±–µ–∑–ø–µ—á–Ω–µ –∑–∞–∫—Ä–∏—Ç—Ç—è –ø–æ–∑–∏—Ü—ñ–π)
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑ docstrings
- ‚úÖ –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
bybit_test/
‚îú‚îÄ‚îÄ main.py # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫—É
‚îú‚îÄ‚îÄ trading_engine.py # –û—Å–Ω–æ–≤–Ω–∏–π –∫–ª–∞—Å –¥–≤–∏–∂–∫–∞
‚îú‚îÄ‚îÄ constants.py # –ì–ª–æ–±–∞–ª—å–Ω—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏
‚îú‚îÄ‚îÄ utils.py # –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
‚îú‚îÄ‚îÄ config.json # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —Ç–æ—Ä–≥—ñ–≤–ª—ñ
‚îú‚îÄ‚îÄ .env # API –∫–ª—é—á—ñ (–Ω–µ –∫–æ–º—ñ—Ç–∏—Ç–∏!)
‚îú‚îÄ‚îÄ requirements.txt # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îî‚îÄ‚îÄ README.md # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

## ‚öôÔ∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
```bash
git clone <your-repo-url>
cd bybit_test
```

2. **–°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∞–±–æ
venv\Scripts\activate  # Windows
```

3. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
```bash
pip install -r requirements.txt
```

4. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ API –∫–ª—é—á—ñ:**
```bash
cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ API –∫–ª—é—á–∞–º–∏
```

## üîß –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `config.json`:

```json
{
  "account": "Bybit/Testnet",
  "symbol": "BTC/USDT",
  "side": "short",
  "market_order_amount": 2000,
  "stop_loss_percent": 7,
  "trailing_sl_offset_percent": 3,
  "limit_orders_amount": 2000,
  "leverage": 10,
  "move_sl_to_breakeven": true,
  "tp_orders": [
    {"price_percent": 2.0, "quantity_percent": 25.0},
    {"price_percent": 5.0, "quantity_percent": 25.0},
    {"price_percent": 7.0, "quantity_percent": 25.0},
    {"price_percent": 3.0, "quantity_percent": 25.0}
  ],
  "limit_orders": {
    "range_percent": 5.0,
    "orders_count": 6,
    "engine_deal_duration_minutes": 110
  }
}
```

## üöÄ –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## üìä –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. **–ó–∞–ø—É—Å–∫:** –î–≤–∏–∂–æ–∫ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ Bybit Demo
2. **–í—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ–∑–∏—Ü—ñ—ó:** –°—Ç–≤–æ—Ä—é—î market order –∑ –∑–∞–¥–∞–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
3. **TP –æ—Ä–¥–µ—Ä–∏:** –†–æ–∑–º—ñ—â—É—î —Å–µ—Ä—ñ—é limit –æ—Ä–¥–µ—Ä—ñ–≤ –¥–ª—è –∑–∞–∫—Ä–∏—Ç—Ç—è –ø—Ä–∏ –ø—Ä–∏–±—É—Ç–∫—É
4. **DCA –æ—Ä–¥–µ—Ä–∏:** –°—Ç–≤–æ—Ä—é—î –æ—Ä–¥–µ—Ä–∏ –¥–ª—è —É—Å–µ—Ä–µ–¥–Ω–µ–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ—ó
5. **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:** –í—ñ–¥—Å—Ç–µ–∂—É—î –ø–æ–∑–∏—Ü—ñ—ó —Ç–∞ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î TP –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö
6. **–ó—É–ø–∏–Ω–∫–∞:** –ë–µ–∑–ø–µ—á–Ω–æ –∑–∞–∫—Ä–∏–≤–∞—î –ø–æ–∑–∏—Ü—ñ—ó —Ç–∞ —Å–∫–∞—Å–æ–≤—É—î –æ—Ä–¥–µ—Ä–∏

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è API

1. –ó–∞–π–¥—ñ—Ç—å –Ω–∞ [Bybit Demo Trading](https://testnet.bybit.com/)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å API –∫–ª—é—á—ñ
3. –î–æ–¥–∞–π—Ç–µ —ó—Ö –≤ `.env` —Ñ–∞–π–ª:

```env
BYBIT_API_KEY=your_api_key_here
BYBIT_API_SECRET=your_api_secret_here
```

## üìà –°—Ç—Ä–∞—Ç–µ–≥—ñ—è —Ç–æ—Ä–≥—ñ–≤–ª—ñ

### **DCA (Dollar Cost Averaging)**
- –†–æ–∑–º—ñ—â—É—î –æ—Ä–¥–µ—Ä–∏ –≤ –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ —Ü—ñ–Ω
- –£—Å–µ—Ä–µ–¥–Ω—é—î —Ü—ñ–Ω—É –≤—Ö–æ–¥—É –ø—Ä–∏ –ø–∞–¥—ñ–Ω–Ω—ñ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î TP –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ

### **TP (Take Profit)**
- –ú–Ω–æ–∂–∏–Ω–Ω—ñ —Ü—ñ–ª—ñ –ø—Ä–∏–±—É—Ç–∫—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å–µ—Ä–µ–¥–Ω—å–æ—ó —Ü—ñ–Ω–∏
- –ß–∞—Å—Ç–∫–æ–≤–µ –∑–∞–∫—Ä–∏—Ç—Ç—è –ø–æ–∑–∏—Ü—ñ—ó

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

- **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç—ñ–ª—å–∫–∏ Demo/Testnet** –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **–ù—ñ–∫–æ–ª–∏ –Ω–µ –¥–æ–¥–∞–≤–∞–π—Ç–µ `.env` –≤ Git**
- **–ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- **–ú–æ–Ω—ñ—Ç–æ—Ä—å—Ç–µ –ø–æ–∑–∏—Ü—ñ—ó** –ø—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏
- **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Ctrl+C** –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ—ó –∑—É–ø–∏–Ω–∫–∏

## üõ†Ô∏è –†–æ–∑—Ä–æ–±–∫–∞

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É**
- `TradingEngine` - –æ—Å–Ω–æ–≤–Ω–∏–π –∫–ª–∞—Å –¥–≤–∏–∂–∫–∞
- `utils.py` - –¥–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- `constants.py` - –≥–ª–æ–±–∞–ª—å–Ω—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏
- –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è

### **–î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π**
1. –î–æ–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü—ñ—é –≤ `utils.py`
2. –Ü–º–ø–æ—Ä—Ç—É–π—Ç–µ –≤ `trading_engine.py`
3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤ –º–µ—Ç–æ–¥–∞—Ö –∫–ª–∞—Å—É
4. –î–æ–¥–∞–π—Ç–µ docstring

## üîÆ –ú–∞–π–±—É—Ç–Ω—ñ –ø–ª–∞–Ω–∏

- [ ] –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- [ ] REST API –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- [ ] –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ç–æ—Ä–≥—ñ–≤–ª—ñ
- [ ] –ë—ñ–ª—å—à–µ –±—ñ—Ä–∂ (Binance, OKX)
- [ ] Telegram –±–æ—Ç –¥–ª—è —Å–ø–æ–≤—ñ—â–µ–Ω—å

## ÔøΩÔøΩ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ API –∫–ª—é—á—ñ
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
3. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏
4. –°—Ç–≤–æ—Ä—ñ—Ç—å issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó

## üë®‚ÄçÔøΩÔøΩ –ê–≤—Ç–æ—Ä
- **MTCH**

_–†–æ–∑—Ä–æ–±–ª–µ–Ω–æ —è–∫ —Ç–µ—Å—Ç–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –ø–æ–∑–∏—Ü—ñ—ó Python —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞_
